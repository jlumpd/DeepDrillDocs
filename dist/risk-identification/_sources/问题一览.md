# 问题一览

**2025年03月04日 星期五 井下风险智能诊断 讨论指摘问题**

| No. | 功能         | 问题                                                                                                     |
| --- | ---------- | ------------------------------------------------------------------------------------------------------ |
| 1   | 井眼清洁       | 计算输入井深，按经验轨迹插值获取井斜角等信息。                                                                                |
| 2   | 通用参数       | 增加风险诊断通用参数的单位。                                                                                         |
| 3   |            | 风险诊断参数2-2-3按识别类型分行。                                                                                    |
| 4   |            | 将14-15-16 issues内容发给付工确认名字。                                                                            |
| 5   |            | Label名称再确认 (环空波动阈值)                                                                                    |
| 6   | 工况识别       | 工况识别时间选择，开始时间和结束时间在时间轴范围内。                                                                             |
| 7   |            | 时间选择按钮跟时间轴放在一起                                                                                         |
| 8   |            | 识别准确率的文字内容、位置、颜色优化<br>* 计算数据结果上方<br>* X轴左侧或右侧                                                          |
| 9   |            | 工况识别X轴优化年月日，突出主要信息，简化冗余内容                                                                              |
| 10  |            | 工况图例和参数图例的拆分(TBC)                                                                                      |
| 11  | 复杂工况风险智能诊断 | 概率和X轴数字重合                                                                                              |
| 12  |            | 需要增加导入数据模版下载功能                                                                                         |
| 13  | 实时工况风险智能诊断 | * 加概率，加名称，加单位<br>* 加坐标，加格线<br>* 标注的文字<br>* 日期提取<br>* **图例加单位**<br>* 人工做标记或修改错误的判断<br>* 标注阈值对应的markline |
**2025年03月04日前问题一览**

| 日期             | 问题描述                                       | 状态   | 备注               |
| -------------- | ------------------------------------------ | ---- | ---------------- |
| 2024-12-10     | PPT日期                                      | 完成   |                  |
| 2024-12-10     | PPT正文字体改为微软雅黑24号字，去掉粗体                     | 完成   |                  |
| 2024-12-10     | PPT钻井液性质预测部分截图问题（图片反向、数字尾数过长）              | 完成   | 需删除冗余图片          |
| 2024-12-10     | 井筒压力部分术语修改（Constant/Variant→单一尺寸钻杆/组合尺寸钻杆） | 完成   | 涉及PPT和软件修改       |
| 2024-12-10     | PPT中所有“上传”改为“导入”                           | 完成   |                  |
| 2024-12-10     | Type1和Type2改为已知入口压力和出口压力                   | 完成   |                  |
| 2024-12-10     | PPT第39页精度问题（代码+PPT）                        | 软件确认 | 需代码调整            |
| 2024-12-10     | 压力计算出现负值异常（PPT第41页）                        | 软件确认 | 需更换数据或对比流变模式     |
| 2024-12-10     | 波动压力计算需包含静液柱压力对比                           | 软件确认 | 需软件修改            |
| 2024-12-10     | PPT第45页“环空”错字                              | 完成   |                  |
| 2024-12-10     | PPT第54页文字过多需简化                             | 完成   |                  |
| 2024-12-10     | PPT第56页“上传后”改为“导入”                         | 完成   |                  |
| 2024-12-10     | PPT第57页轮播图对比流量过小问题                         | 软件确认 | 需检查源代码逻辑         |
| 2024-12-10     | PPT第58页压耗梯度对比图改为表格+实验数据                    | 完成   |                  |
| 2024-12-10     | 软件中钻井液密度输入冗余问题                             | 完成   | 需关联输入字段          |
| 2024-12-10     | 流体性质界面“高温高压”改为“高温高压经验公式”                   | 完成   |                  |
| 2024-12-10     | 摩阻扭矩实测值图表改为散点图                             | 未开始  | 散点图与折线图同图表显示不易实现 |
| 2024-12-10     | 摩阻扭矩计算与反演逻辑梳理                              | 完成   |                  |
| 2024-12-10     | 摩阻扭矩界面增加反演结果输出框                            | 完成   |                  |
| 2024-12-10     | 流型显示固定为层流、过渡流、湍流                           | 完成   |                  |
| 2024-12-10     | 右侧菜单“绘图相关参数”改为“计算相关参数”                     | 完成   |                  |
| 2024-12-10     | 压力计算中“测试温度/压力”改为“大气温度/气压”                  | 完成   |                  |
| 2024-12-10     | 所有压力单位Pa改为MPa                              | 完成   | 需保持内部计算单位一致性     |
| 2024-12-10     | 所有体积流量单位改为L/s                              | 完成   |                  |
| 2024-12-10     | 密度组分油水比输入说明不清晰                             | 完成   |                  |
| 2024-12-10     | 密度组分温度显示异常（负值）                             | 完成   | 需修复显示逻辑          |
| 2024-12-10     | 结果UI布局优化（加长、调整文字大小）                        | 完成   |                  |
| 2024-12-10     | 计算过程中增加提示                                  | 完成   |                  |
| 2024-12-10     | 温度场计算未支持组合钻具场景                             | 完成   |                  |
| 2024-12-10     | 删除首页冗余模块                                   | 完成   |                  |
| 2024-12-10     | 折线图数据精度显示优化                                | 完成   |                  |
| 2024-12-10     | 工况识别曲线需突出提示                                | 完成   |                  |
| 2024-12-10     | 首页模块布局梳理                                   | 完成   |                  |
| 2024-12-18     | 系统闪退测试（流体参数计算、高温高压预测保存）                    | 完成   |                  |
| 2024-12-18     | 侧边栏移除“流体和地层”                               | 完成   |                  |
| 2024-12-18     | 高温高压预测模型公式位置调整                             | 完成   | 需动态显示公式          |
| 2024-12-18     | 高温高压预测模型显示导入数据                             | 完成   |                  |
| 2024-12-18     | 流体参数计算和高温高压预测增加数据回放/清空功能                   | 完成   |                  |
| 2024-12-18     | 软件分辨率自适应问题                                 | 完成   |                  |
| 2024-12-18     | 输入缺失时提示功能                                  | 完成   |                  |
| 2024-12-18     | 温度计算数据列合并                                  | 完成   |                  |
| 2024-12-18     | 折线图数据点显示问题                                 | 完成   |                  |
| 2024-12-18     | 表头固定功能                                     | 完成   |                  |
| 2024-12-18     | 井眼清洁功能调整                                   | 完成   |                  |
| 2024-12-18     | 侧边栏“裸眼段实测井径”改为“实测井径”                       | 完成   |                  |
| 2024-12-18     | 删除重力加速度输入                                  | 完成   |                  |
| 2024-12-18     | 钻井液排量统一为体积排量（L/s）                          | 完成   |                  |
| 2024-12-18     | 单位大小写问题（如mPa）                              | 完成   |                  |
| 2024-12-18     | 压力计算去除循环次数输入                               | 完成   |                  |
| 2024-12-18     | 压力计算总时间单位改为小时                              | 完成   |                  |
| 2024-12-18     | 风险诊断模型分级选择（工况→模型）                          | 取消   | 采用其它方式实现         |
| 2024-12-20     | 表格/文字增加框线与颜色标识                             | 完成   |                  |
| 2024-12-20     | 井筒温度图增加时间维度                                | 完成   |                  |
| 2024-12-20     | 高温高压数据导入逻辑优化                               | 完成   |                  |
| 2024-12-20     | Uploading显示异常                              | 完成   |                  |
| 2024-12-20     | 高温高压六速数据导入绘图功能                             | 未开始  |                  |
| 2024-12-20     | 离群值数据标注                                    | 完成   |                  |
| 2024-12-20     | 压力计算井筒尺寸取自侧边栏                              | 完成   |                  |
| 2024-12-20     | 摩阻扭矩去除计算间距/误差输入                            | 完成   |                  |
| 2024-12-20     | 密度组分界面闪退问题                                 | 完成   |                  |
| 2024-12-25     | 溢流、卡钻类型诊断不完善                               | 取消   | 与问题14、15重复       |
| 2024-12-25     | 数据导入次数过多优化                                 | 完成   | 需简化侧边栏配置         |
| 2024-12-25     | 风险诊断区分静态/动态条件                              | 完成   | 需接入录井数据          |
| 2024-12-25     | 模型嵌入控压软件测试                                 | 低优先级 | 需控压软件配合          |
| 2024-12-25     | 参考成熟软件逻辑优化                                 | 中优先级 | 需对比WellPlan等软件   |
| 2024-12-25     | 双液面监控融入风险诊断                                | 低优先级 |                  |
| 2024-12-25     | 软件依赖项瘦身                                    | 高优先级 | 需减少数据库/模型体积      |
| 2024-12-25     | 钻具细节尺寸优化                                   | 完成   |                  |
| 2024-12-25     | 高温高压模块定制化设计                                | 完成   |                  |
| 2024-12-25     | 溢流类型诊断（欠平衡/置换气侵）                           | 完成   | 需结合物理模型与数据验证     |
| 2024-12-25     | 卡钻类型诊断（沉砂/坍塌/压差）                           | 完成   | 需关联岩屑浓度与压力数据     |
| 2024-12-25     | 漏失类型诊断（漏速/裂缝类型）                            | 完成   | 需对比入口/出口流量       |
| 2024-12-25     | 温度场模型更新（排量过大导致井底温度异常）                      | 完成   | 付工提供新模型          |
| 2024-12-25     | 温度场恢复地层时间曲线                                | 完成   | 付工提供新模型          |
| 2024-12-25     | 不同时间温度场对比显示                                | 完成   |                  |
| 2025-01-28     | 高温高压模块增加密度输入                               | 完成   |                  |
| 2025-01-28     | 密度组分温度单位统一                                 | 完成   |                  |
| 2025-01-28     | 颜色刻度范围优化                                   | 完成   |                  |
| 2025-01-28     | 添加剂输入限制（如NaCl/KCl）                         | 完成   |                  |
| 2025-01-28     | 流变模式显示异常                                   | 完成   |                  |
| 2025-01-28     | 井下参数菜单命名优化                                 | 完成   |                  |
| 2025-01-28     | 目标温度/压力输入说明                                | 完成   |                  |
| 2025-01-28     | 油水比注释补充                                    | 完成   |                  |
| 2025-01-28     | 密度组分温度/压力单位补充                              | 完成   |                  |
| 2025-01-28     | 管柱轴向力更名为大钩载荷                               | 完成   | 需确认单位一致性         |
| 2025-01-28     | 管柱扭矩更名为地面扭矩                                | 完成   |                  |
| 2025-01-28     | 图形文字对齐优化                                   | 完成   |                  |
| 2025-01-28     | 计算值/测量值分列显示                                | 完成   |                  |
| 2025-01-28     | Tooltip单位与小数位优化                            | 完成   | 需全局检查            |
| 2025-01-28     | 图表标题与坐标轴重叠问题                               | 完成   |                  |
| 2025-02-17     | 复杂工况阈值配置                                   | 完成   | 需在参数页面增加默认值      |
| 2025-02-17     | 测试数据统一性验证                                  | 进行中  |                  |
| 2025-02-18     | 风险诊断实时数据对码问题                               | 完成   |                  |
| 2025-02-18     | 风险诊断折线图显示异常                                | 完成   |                  |
| 2025-02-18     | 工况识别算法速度优化                                 | 完成   |                  |
| 2025-02-18     | 工况识别界面增加钻井参数显示                             | 完成   |                  |
| 2025-02-18     | 摩阻扭矩界面增加卡钻判别                               | 未开始  | 报告中未给出判别方式       |
| **2025-02-23** | 井筒温度计算需支持三种算法切换（算法1、算法2、算法3），并比较结果         | 完成   | 需验证不同算法输出差异      |
| **2025-02-23** | 高温高压性质预测界面左侧参数布局调整（分组框线留白、功能标题添加）          | 完成   |                  |
| **2025-02-23** | 密度组分计算结果与流体参数结合（类似高温高压模型）                  | 完成   | 需数据联动逻辑开发        |
| **2025-02-23** | 所有表格文字居中显示                                 | 完成   |                  |
| **2025-02-23** | 井眼清洁界面增加岩屑等效直径和岩屑密度参数（移至左边栏）               | 完成   |                  |
| **2025-02-23** | 井眼清洁流型切换时赫巴流体需关联屈服值参数                      | 进行中  | 需流变模型逻辑调整        |
| **2025-02-23** | 工况识别界面字体加粗、识别结果区域增加背景色                     | 完成   |                  |
| **2025-02-24** | 工况识别手动识别数据导入功能开发（用于与智能识别结果对比）              | 完成   | 需支持人工数据与算法结果同图对比 |
| **2025-02-24** | 风险诊断模块增加二级分类诊断（通过地层压力与实时数据对比）              | 完成   | 需侧边栏地层压力数据接入     |
| **2025-02-24** | 摩阻扭矩界面数据导入逻辑优化（剔除井轨迹和钻具数据，改为从左边栏读取）        | 未开始  | 需重构数据输入逻辑        |
| **2025-02-24** | 压力计算界面UI调整（注替压力模块隐藏左边栏数据）                  | 完成   |                  |
| **2025-02-24** | 井筒温度计算存在显示Bug（部分温度曲线异常）                    | 完成   | 需排查算法或数据输入问题     |
| **2025-02-25** | 摩阻扭矩反演结果输出框增加Loading提示，反演期间文本框禁用           | 完成   |                  |
| **2025-02-25** | 摩阻扭矩界面折线图显示不全（Y轴范围自适应问题）                   | 进行中  | 需优化图表缩放逻辑        |
| **2025-02-25** | 所有功能画面在1080*1920分辨率下占屏80%以上                | 完成   |                  |
| **2025-02-27** | 高温高压性质预测模型名称和流型参数输入空格过多                    | 完成   | 优化输入框格式          |
| **2025-02-27** | 密度组分计算结果删除功能缺失                             | 进行中  | 需增加结果清除按钮        |
| **2025-02-27** | 复杂工况诊断阈值参数单位补充（如漏速单位）                      | 完成   |                  |
| **2025-03-03** | 演示流程梳理：重点展示响应式布局、左边栏输入、动态数据接入等功能           | 进行中  | 需制定详细演示脚本        |
| **2025-03-07** | 工况识别界面增加泵冲、入口流量、钻压参数显示                     | 完成   |                  |
| **2025-03-07** | 工况识别界面图例和标题大小优化，X轴标签隐藏                     | 完成   |                  |
| **2025-03-07** | 人工识别工况与智能识别对比结论输出功能                        | 未开始  | 需开发差异分析算法        |
| **2025-03-07** | 高温高压性质预测界面导入数据保留位数（温度/压力保留1位，其他保留4位）       | 完成   |                  |
| **2025-03-07** | 井眼清洁界面增加判断结果输出（流量最大值与最小循环流量对比）             | 进行中  | 需添加阈值比较逻辑        |
| **2025-03-11** | 复杂画面各图表增加X轴显示                              | 完成   |                  |
| **2025-03-11** | 复杂工况总体伸缩控制支持手动输入范围                         | 进行中  | 需开发动态缩放输入控件      |
| **2025-03-11** | 风险诊断模块实时数据对码问题（录井数据与计算数据时间戳匹配）             | 未开始  | 需时间同步算法开发        |
| **2025-03-11** | 摩阻扭矩界面反演结果与右侧按钮位置交换                        | 完成   |                  |

---

## 说明：

1. **日期**：按问题首次提出日期归类，后续更新标注新日期。  
2. **状态**：优先标注文档中明确标记的状态（如“完成”“软件确认”），未标注的按上下文推断。  
3. **备注**：包含负责人、依赖项、技术细节等补充信息，部分复杂问题简化为关键点。  
4. **合并规则**：跨多日期的同一问题按最新进展标注，重复问题标记“已关闭”。  
5. **未覆盖项**：部分技术细节（如代码重构、UI封装）因属开发内部流程未列入表格。

---

## **后期改进计划（无明确日期）**

| 问题描述                                                                 | 状态       | 备注                                                                 |
|--------------------------------------------------------------------------|------------|----------------------------------------------------------------------|
| 代码注释、重构及算法优化                                                 | 未开始     | 需制定代码规范并分配任务                                             |
| 交付检查表与UI设计标准文档编写                                           | 未开始     | 需整理验收标准和UI组件库                                             |
| 通用逻辑抽象封装（如图表、表单、数据验证）                               | 进行中     | 优先封装高频复用模块                                                 |
| 模型架构设计优化（CNN-LSTM、Transformer模型集成）                        | 未开始     | 需评估模型性能与计算资源                                             |
| 软件安装包瘦身（减少Python依赖、轻量化数据库）                           | 进行中     | 需测试SQLite替代方案                                                 |

---

## **关键问题说明**

1. **算法一致性验证**（如摩阻扭矩Matlab源码对比、井筒温度多算法对比）需与算法提供方确认逻辑一致性。
2. **动态数据接入**（风险诊断、工况识别）依赖录井系统接口开发，需协调外部团队支持。
3. **性能优化**（如工况识别算法速度、温度场计算效率）需针对性测试与并行计算方案设计。
4. **用户体验**（布局参考成熟软件、输入参数分级）需与用户代表确认需求优先级。